{"project_name": "restaurantServer", "refactorings": [{"id": 1, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 0, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 2, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "0", "dependent_microservice": "1", "notes": {"file": "WebSecurityConfiguration", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl", "interfaces": ["UserDetailsServiceImplDTOInterface"]}, "refactorings": [{"id": 3, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "0", "dependent_microservice": "1", "notes": {"created": ["UserDetailsServiceImplDTO"]}}]}, {"id": 4, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "0", "dependent_microservice": "1", "notes": {"file": "JwtAuthTokenFilter", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl", "interfaces": []}, "refactorings": [{"id": 5, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "0", "dependent_microservice": "1", "notes": {"method": "loadUserByUsername", "protocol": "HTTP", "type": "synchronous", "target": "UserDetailsServiceImpl"}}]}, {"id": 6, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "0", "dependent_microservice": "1", "notes": {"method": "getUsername", "protocol": "HTTP", "type": "synchronous", "target": "UserPrinciple"}}]}, {"id": 7, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 1, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 8, "name": "MOVE FOREIGN-KEY RELATIONSHIP TO CODE", "level": 2, "microservice": "1", "dependent_microservice": "5", "notes": {"relationship": "OneToMany", "entities": ["User", "Reservation"], "interfaces": ["UserInterface", "ReservationInterface"]}}, {"id": 9, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "1", "dependent_microservice": "5", "notes": {"file": "User", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": ["ReservationDTOInterface"]}, "refactorings": [{"id": 10, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "1", "dependent_microservice": "5", "notes": {"created": ["ReservationDTO"]}}]}, {"id": 11, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "1", "dependent_microservice": "5", "notes": {"file": "UserService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": []}}, {"id": 12, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "1", "dependent_microservice": "5", "notes": {"file": "UserController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": []}}, {"id": 13, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "5", "dependent_microservice": "1", "notes": {"file": "ReservationService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.service.UserService", "interfaces": ["UserServiceDTOInterface"]}, "refactorings": [{"id": 14, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "5", "dependent_microservice": "1", "notes": {"created": ["UserServiceDTO"]}}, {"id": 15, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "5", "dependent_microservice": "1", "notes": {"method": "getUserById", "protocol": "HTTP", "type": "synchronous", "target": "UserService"}}]}, {"id": 16, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "5", "dependent_microservice": "1", "notes": {"method": "getMail", "protocol": "HTTP", "type": "synchronous", "target": "User"}}, {"id": 17, "name": "CHANGE DATA OWNERSHIP", "level": 2, "microservice": "1", "dependent_microservice": "6", "notes": {}, "refactorings": [{"id": 18, "name": "MOVE FOREIGN-KEY RELATIONSHIP TO CODE", "level": 3, "microservice": "1", "dependent_microservice": "6", "notes": {"relationship": "ManyToMany", "entities": ["User", "Role"], "interfaces": ["UserInterface", "RoleInterface"]}}]}, {"id": 19, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "1", "dependent_microservice": "6", "notes": {"file": "User", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Role", "interfaces": ["RoleDTOInterface"]}, "refactorings": [{"id": 20, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "1", "dependent_microservice": "6", "notes": {"created": ["RoleDTO"]}}]}, {"id": 21, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "1", "dependent_microservice": "6", "notes": {"file": "UserController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.email.MailService", "interfaces": ["MailServiceDTOInterface"]}, "refactorings": [{"id": 22, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "1", "dependent_microservice": "6", "notes": {"created": ["MailServiceDTO"]}}, {"id": 23, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "1", "dependent_microservice": "6", "notes": {"method": "sendEmail", "protocol": "HTTP", "type": "synchronous", "target": "MailService"}}]}, {"id": 24, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "6", "dependent_microservice": "1", "notes": {"method": "getUserId", "protocol": "HTTP", "type": "synchronous", "target": "User"}}, {"id": 25, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "6", "dependent_microservice": "1", "notes": {"file": "AuthController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository", "interfaces": ["UserRepositoryDTOInterface"]}, "refactorings": [{"id": 26, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "6", "dependent_microservice": "1", "notes": {"created": ["UserRepositoryDTO"]}}, {"id": 27, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "6", "dependent_microservice": "1", "notes": {"method": "findByMail", "protocol": "HTTP", "type": "synchronous", "target": "UserRepository"}}]}, {"id": 28, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "6", "dependent_microservice": "1", "notes": {"method": "getMail", "protocol": "HTTP", "type": "synchronous", "target": "User"}}]}, {"id": 29, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 2, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 30, "name": "CHANGE DATA OWNERSHIP", "level": 2, "microservice": "2", "dependent_microservice": "4", "notes": {}, "refactorings": [{"id": 31, "name": "MOVE FOREIGN-KEY RELATIONSHIP TO CODE", "level": 3, "microservice": "2", "dependent_microservice": "4", "notes": {"relationship": "ManyToOne", "entities": ["BillPosition", "Dish"], "interfaces": ["BillPositionInterface", "DishInterface"]}}]}, {"id": 32, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "2", "dependent_microservice": "4", "notes": {"file": "BillPosition", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Dish", "interfaces": ["DishDTOInterface"]}, "refactorings": [{"id": 33, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "2", "dependent_microservice": "4", "notes": {"created": ["DishDTO"]}}]}, {"id": 34, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "2", "dependent_microservice": "4", "notes": {"method": "getPrice", "protocol": "HTTP", "type": "synchronous", "target": "Dish"}}, {"id": 35, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "2", "dependent_microservice": "4", "notes": {"file": "BillPositionService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.service.DishService", "interfaces": ["DishServiceDTOInterface"]}, "refactorings": [{"id": 36, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "2", "dependent_microservice": "4", "notes": {"created": ["DishServiceDTO"]}}]}, {"id": 37, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "2", "dependent_microservice": "3", "notes": {"file": "BillService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository", "interfaces": ["RTableRepositoryDTOInterface"]}, "refactorings": [{"id": 38, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "2", "dependent_microservice": "3", "notes": {"created": ["RTableRepositoryDTO"]}}, {"id": 39, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "2", "dependent_microservice": "3", "notes": {"method": "findById", "protocol": "HTTP", "type": "synchronous", "target": "RTableRepository"}}]}, {"id": 40, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "2", "dependent_microservice": "3", "notes": {"file": "BillController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository", "interfaces": []}, "refactorings": [{"id": 41, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "2", "dependent_microservice": "3", "notes": {"method": "findById", "protocol": "HTTP", "type": "synchronous", "target": "RTableRepository"}}]}, {"id": 42, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "2", "notes": {"file": "RTableService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Bill", "interfaces": ["BillDTOInterface"]}, "refactorings": [{"id": 43, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "3", "dependent_microservice": "2", "notes": {"created": ["BillDTO"]}}, {"id": 44, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "3", "dependent_microservice": "2", "notes": {"method": "getStatus", "protocol": "HTTP", "type": "synchronous", "target": "Bill"}}]}, {"id": 45, "name": "MOVE FOREIGN-KEY RELATIONSHIP TO CODE", "level": 2, "microservice": "3", "dependent_microservice": "2", "notes": {"relationship": "OneToMany", "entities": ["RTable", "Bill"], "interfaces": ["RTableInterface", "BillInterface"]}}, {"id": 46, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "2", "notes": {"file": "RTable", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Bill", "interfaces": []}}, {"id": 47, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "2", "notes": {"file": "RTableController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Bill", "interfaces": []}}]}, {"id": 48, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 3, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 49, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "5", "notes": {"file": "RTableService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": ["ReservationDTOInterface"]}, "refactorings": [{"id": 50, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "3", "dependent_microservice": "5", "notes": {"created": ["ReservationDTO"]}}]}, {"id": 51, "name": "MOVE FOREIGN-KEY RELATIONSHIP TO CODE", "level": 2, "microservice": "3", "dependent_microservice": "5", "notes": {"relationship": "OneToMany", "entities": ["RTable", "Reservation"], "interfaces": ["RTableInterface", "ReservationInterface"]}}, {"id": 52, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "5", "notes": {"file": "RTable", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": []}}, {"id": 53, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "3", "dependent_microservice": "5", "notes": {"file": "RTableController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": []}}, {"id": 54, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "5", "dependent_microservice": "3", "notes": {"file": "ReservationService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.service.RTableService", "interfaces": ["RTableServiceDTOInterface"]}, "refactorings": [{"id": 55, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "5", "dependent_microservice": "3", "notes": {"created": ["RTableServiceDTO"]}}, {"id": 56, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "5", "dependent_microservice": "3", "notes": {"method": "getRTableById", "protocol": "HTTP", "type": "synchronous", "target": "RTableService"}}]}, {"id": 57, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 2, "microservice": "5", "dependent_microservice": "3", "notes": {"method": "getReservations", "protocol": "HTTP", "type": "synchronous", "target": "RTable"}}]}, {"id": 58, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 4, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 59, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "4", "dependent_microservice": "6", "notes": {"file": "RestaurantServerApplication", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository", "interfaces": ["RoleRepositoryDTOInterface"]}, "refactorings": [{"id": 60, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "4", "dependent_microservice": "6", "notes": {"created": ["RoleRepositoryDTO"]}}, {"id": 61, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "4", "dependent_microservice": "6", "notes": {"method": "save", "protocol": "HTTP", "type": "synchronous", "target": "RoleRepository"}}]}, {"id": 62, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "4", "dependent_microservice": "1", "notes": {"file": "RestaurantServerApplication", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository", "interfaces": ["UserRepositoryDTOInterface"]}, "refactorings": [{"id": 63, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "4", "dependent_microservice": "1", "notes": {"created": ["UserRepositoryDTO"]}}, {"id": 64, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "4", "dependent_microservice": "1", "notes": {"method": "save", "protocol": "HTTP", "type": "synchronous", "target": "UserRepository"}}]}, {"id": 65, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "4", "dependent_microservice": "3", "notes": {"file": "RestaurantServerApplication", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository", "interfaces": ["RTableRepositoryDTOInterface"]}, "refactorings": [{"id": 66, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "4", "dependent_microservice": "3", "notes": {"created": ["RTableRepositoryDTO"]}}, {"id": 67, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "4", "dependent_microservice": "3", "notes": {"method": "save", "protocol": "HTTP", "type": "synchronous", "target": "RTableRepository"}}]}]}, {"id": 68, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 5, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 69, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "5", "dependent_microservice": "6", "notes": {"file": "ReservationService", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.email.MailService", "interfaces": ["MailServiceDTOInterface"]}, "refactorings": [{"id": 70, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "5", "dependent_microservice": "6", "notes": {"created": ["MailServiceDTO"]}}, {"id": 71, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "5", "dependent_microservice": "6", "notes": {"method": "sendEmail", "protocol": "HTTP", "type": "synchronous", "target": "MailService"}}]}, {"id": 72, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "6", "dependent_microservice": "5", "notes": {"file": "JwtResponse", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation", "interfaces": ["ReservationDTOInterface"]}, "refactorings": [{"id": 73, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "6", "dependent_microservice": "5", "notes": {"created": ["ReservationDTO"]}}]}]}, {"id": 74, "name": "EXTRACT MICROSERVICE", "level": 1, "microservice": 6, "dependent_microservice": -1, "notes": {}, "refactorings": [{"id": 75, "name": "BREAK DATA TYPE DEPENDENCY", "level": 2, "microservice": "6", "dependent_microservice": "0", "notes": {"file": "AuthController", "dependent_file": "pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider", "interfaces": ["JwtProviderDTOInterface"]}, "refactorings": [{"id": 76, "name": "CREATE DATA TRANSFER OBJECT", "level": 3, "microservice": "6", "dependent_microservice": "0", "notes": {"created": ["JwtProviderDTO"]}}, {"id": 77, "name": "CHANGE LOCAL METHOD CALL DEPENDENCY TO A SERVICE CALL", "level": 3, "microservice": "6", "dependent_microservice": "0", "notes": {"method": "generateJwtToken", "protocol": "HTTP", "type": "synchronous", "target": "JwtProvider"}}]}]}]}